# JavaScriptメモリ管理と状態管理の基礎

このアプリケーションは、ブラウザのメモリ管理と状態管理ライブラリの基礎を学ぶための対話型デモです。JavaScriptにおけるミュータブル（可変）とイミュータブル（不変）なデータ構造、およびメモリアドレス変更検知の仕組みを視覚的に理解できます。

## アプリケーションの使い方

1. `index.html`ファイルをブラウザで開きます。
2. 画面に3つのセクションが表示されます：
   - ミュータブル操作（直接変更）
   - イミュータブル操作（新しいオブジェクト作成）
   - 状態管理ライブラリの実装

## 各セクションの操作方法

各セクションには3つのボタンがあります：

### 1. カウントアップボタン
- クリックするとカウンターの値が1増加します
- ミュータブルセクション：オブジェクトを直接変更するため、メモリアドレスは変わりません
- イミュータブルセクション：新しいオブジェクトを作成するため、メモリアドレスが変わります
- 状態管理ライブラリセクション：アクションをディスパッチし、リデューサーを通じて状態を更新します

### 2. プロパティ追加ボタン
- クリックすると新しいプロパティ（lastUpdated）が追加されます
- ミュータブルセクション：オブジェクトに直接プロパティを追加するため、メモリアドレスは変わりません
- イミュータブルセクション：新しいオブジェクトを作成するため、メモリアドレスが変わります
- 状態管理ライブラリセクション：アクションをディスパッチし、リデューサーを通じて状態を更新します

### 3. リセットボタン
- クリックすると状態が初期状態（count: 0）にリセットされます
- すべてのセクションで新しいオブジェクトが作成されるため、メモリアドレスが変わります

## 観察ポイント

1. **メモリアドレスの変化**
   - ミュータブル操作では、内容が変わってもメモリアドレスは変わりません（同じオブジェクト参照）
   - イミュータブル操作では、内容が変わるたびにメモリアドレスも変わります（新しいオブジェクト参照）
   - 状態管理ライブラリでは、イミュータブルな方法で状態を管理し、変更があった場合のみ新しいメモリアドレスを生成します

2. **操作ログ**
   - 各操作の結果が操作ログに記録されます
   - 赤色のログは状態が変更されたことを示します
   - 緑色のログは状態が変更されていないことを示します

3. **サブスクライバー（状態管理ライブラリセクションのみ）**
   - 状態が変更されると、登録されたすべてのサブスクライバー（リスナー）に通知されます
   - UI更新リスナーとログリスナーの両方が自動的に更新されることを確認できます

## 学習ポイント

このデモアプリケーションを通じて以下の概念を学ぶことができます：

- JavaScriptにおけるオブジェクトの参照と値の違い
- `===` 演算子による参照の同一性チェック
- 不変性（Immutability）の重要性と実装方法
- スプレッド構文 (`...`) を使った新しいオブジェクトの作成
- Pub/Subパターン（Observer パターン）の実装
- 状態管理ライブラリが抽象化している概念（アクション、リデューサー、ストア、サブスクライバー）

## 技術的な実装

このアプリケーションは以下のファイルで構成されています：

- `index.html` - ユーザーインターフェース
- `styles.css` - スタイリング
- `memory-utils.js` - メモリ管理のユーティリティ関数
- `state-manager.js` - シンプルな状態管理ライブラリの実装
- `app.js` - アプリケーションのメイン処理
